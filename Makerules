CC ?= gcc
LDFLAGS = `pkg-config --libs-only-l ncurses`
CFLAGS += -ggdb -flto -O2 -fPIE -fstack-protector-strong --param=ssp-buffer-size=1 -Wall -Wextra -Wpedantic -Werror -std=gnu18

ifneq ($(CC), tcc)
CFLAGS += -pie -D_FORTIFY_SOURCE=2 -Wl,-z,relro,-z,now
endif

ifeq ($(CC), clang)
CFLAGS += -Weverything
endif
